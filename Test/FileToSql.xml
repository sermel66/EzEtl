<?xml version="1.0" encoding="utf-8"?>
<EzEtl>
 	
  <Modules>
    <DataFlow ID="Upload">
      <Source ID="File">
        <FilePath>C:\temp\EzEtl\PipeOut.csv</FilePath>
        <SchemaIniTemplate>=${ConfigFolder}\unicode.ini</SchemaIniTemplate>
        <Encoding>ASCII</Encoding>
		<BatchSizeRows>1000000</BatchSizeRows>
      </Source>

      <Destination ID="SqlBulk">
        <ConnectionStringName>MyLocalSql</ConnectionStringName>
        <TableName>dbo.AdHoc2</TableName>
		<ExistingDataAction>Truncate</ExistingDataAction>
        <DbOperationTimeout>1500</DbOperationTimeout>
		<OneDebugMessagePerBatchCount>1</OneDebugMessagePerBatchCount>
      </Destination>

    </DataFlow>
	
	<SqlNonQuery ID="ProcessFeed">
		<ConnectionStringName>MyLocalSql</ConnectionStringName>
		<Command>
			<CommandText>dbo.AdHocLoad</CommandText>
			<Argument>
				<Name>FeedName</Name>
				<Value>AdHocTest</Value>
				<Direction>INPUT</Direction>
			</Argument>
			<Argument>
				<Name>FeedDate</Name>
				<Value>2014-03-23</Value>
				<Direction>INPUT</Direction>
			</Argument>
		</Command>
	</SqlNonQuery>
	
	<!--
		
	
	<SqlExec ID="GetStartDate">
		 <ConnectionStringName>MyLocalSql</ConnectionStringName>
		 <SqlNonQuery command="dbo.StartDate">
			<Argument name="@FeedName" value="${FeedName}" direction="INPUT" />
			<Argument name="@StartDate" value="${StartDate}" direction="OUTPUT" />
		</SqlNonQuery>
	</SqlExec>
	
	
			<ExecuteModule ID="Upload" />
	-->
	
  </Modules>

  <Workflow>
		<ExecuteModule ID="ProcessFeed" />
  </Workflow>
  
  
</EzEtl>